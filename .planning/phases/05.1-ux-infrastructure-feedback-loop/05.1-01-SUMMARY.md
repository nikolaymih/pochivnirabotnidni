---
phase: "05.1"
plan: "01"
subsystem: "design-tokens"
tags: ["css", "tailwind", "theming", "typography", "coffee-theme"]

dependency-graph:
  requires: ["01-02", "03-03", "05-01"]
  provides: ["coffee-design-tokens", "nunito-font", "calendar-color-aliases"]
  affects: ["05.1-02", "05.1-03", "05.1-04"]

tech-stack:
  added: ["Nunito font (Google Fonts)", "Caveat font (declared)"]
  patterns: ["@theme design tokens", "CSS custom property aliases", "semantic color mapping"]

key-files:
  created: []
  modified: ["app/globals.css", "app/layout.tsx"]

decisions:
  - id: "THEME-01"
    decision: "Use @theme (not @theme inline) for Tailwind utility class generation"
    rationale: "@theme inline prevents Tailwind from generating bg-espresso, text-caramel etc. utility classes"
  - id: "THEME-02"
    decision: "Nunito with latin + cyrillic subsets and display:swap"
    rationale: "Bulgarian app requires Cyrillic support; swap prevents FOIT"
  - id: "THEME-03"
    decision: "Remove dark mode entirely"
    rationale: "Coffee theme is light-only; dark mode would need separate palette"
  - id: "THEME-04"
    decision: "Calendar color aliases map to Coffee palette colors"
    rationale: "Allows components to use semantic names (holiday, bridge, vacation) that resolve to theme colors"

metrics:
  duration: "1m 21s"
  completed: "2026-02-06"
---

# Phase 5.1 Plan 01: Coffee Theme Tokens & Nunito Font Summary

**One-liner:** Coffee color palette with 9 base + 3 accent + 4 semantic + 10 calendar alias tokens, Nunito font with Cyrillic support, @theme for Tailwind utility generation.

## What Was Done

### Task 1: Coffee Theme Tokens in globals.css
- Replaced default white/dark theme with Coffee palette (Foam #FAF8F5 background, Espresso #2C1810 foreground)
- Defined 9 base colors: espresso, dark-roast, mocha, coffee, cappuccino, latte, oat-milk, cream, foam
- Defined 3 accent colors: caramel, cinnamon, honey
- Defined 4 semantic colors: success, warning, error, info
- Defined 10 calendar aliases: holiday, holiday-bg, bridge, bridge-bg, vacation, vacation-bg, weekend-bg, weekend-text, today-ring, highlight
- Defined 2 font families: sans (Nunito), accent (Caveat)
- Defined 4 border radius tokens: sm (8px), md (12px), lg (16px), xl (24px)
- Used `@theme` (NOT `@theme inline`) so Tailwind generates utility classes like `bg-espresso`, `text-caramel`, etc.
- Removed dark mode media query entirely

### Task 2: Nunito Font in layout.tsx
- Replaced Geist/Geist_Mono imports with Nunito from next/font/google
- Configured Nunito with latin + cyrillic subsets (critical for Bulgarian UI)
- Set font weights 400, 600, 700 with display:swap
- Updated body className to use `${nunito.variable} antialiased`
- Updated PWA themeColor from blue (#2563eb) to caramel (#C68E17)
- All other layout content preserved (AuthProvider, Toaster, NetworkStatus, ServiceWorkerRegistration)

## Verification

- Build: `npm run build` passed with 0 errors
- globals.css: `@theme {` confirmed (not `@theme inline`)
- globals.css: `--color-espresso` present
- globals.css: `--color-holiday` present
- layout.tsx: `Nunito` import confirmed
- layout.tsx: `cyrillic` subset confirmed
- layout.tsx: No `Geist` references remaining

## Deviations from Plan

None - plan executed exactly as written.

## Commits

| Hash | Message |
|------|---------|
| 5d58c56 | feat(05.1-01): add Coffee theme tokens and Nunito font |

## Next Steps

- Plan 05.1-02: Apply Coffee tokens to existing components (replace hardcoded colors with token references)
- The `@theme` tokens now enable Tailwind utilities: `bg-espresso`, `text-caramel`, `bg-holiday-bg`, `rounded-md`, etc.
- Components can start using semantic calendar aliases instead of raw hex values
