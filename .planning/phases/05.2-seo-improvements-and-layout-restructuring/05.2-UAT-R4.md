---
status: complete
phase: 05.2-seo-improvements-and-layout-restructuring
source: R3 gap fixes (commit 4176b79)
started: 2026-02-08T17:00:00Z
updated: 2026-02-08T17:00:00Z
round: 4
---

## Current Test
<!-- OVERWRITE each test - shows where we are -->

[testing complete]

## Tests

### 1. Page Title Spacing and Width
expected: The H1 title "Празнични, неучебни и неработни дни през 2026 година" and description paragraph are the same width as the calendar (max-w-[650px]). On desktop, the header (auth button area) has ~50px margin-bottom. On mobile, ~20px margin-bottom (mb-5). The title has comfortable spacing from the year selector (← 2026 →) — not too close.
result: pass

### 2. No React Key Errors on Year Navigation
expected: Navigate to ← 2025 → or ← 2027 → using the year selector. Open browser console (F12). There should be NO "Encountered two children with the same key" React warnings. The LeftSidebar renders without duplicate key errors even when holidays share dates.
result: pass

### 3. School Holidays Data on Other Years
expected: Navigate to ← 2025 → or ← 2027 →. NOTE: School holiday data depends on OpenHolidays API availability for that year. If the API returns data, sidebar should show Ученически ваканции and calendar should show teal highlighting. If the API has no data for that year, the sidebar simply won't show the school holidays section (this is expected behavior, not a bug).
result: pass

### 4. Mobile Tooltip Centering (Not Clipped)
expected: On mobile, holiday cells show a small "i" icon. Tap the icon on a Monday or Tuesday cell (left edge). The tooltip should appear centered above the cell, NOT clipped by the left screen edge. The tooltip should be fully readable.
result: pass

### 5. Month Grid Height — 6-Row Months
expected: Check months that need 6 rows (e.g., months where the 1st falls on Friday/Saturday and has 30-31 days). All dates including 30 and 31 should be visible inside the calendar grid — NOT cut off or outside the border.
result: pass

### 6. Regression: Previous R3 Passes Still Work
expected: Quick check: (a) Left sidebar scroll-then-stick works on desktop, (b) Лятна ваканция appears in sidebar but NOT as teal on calendar, (c) December 2026 shows teal school holidays, (d) Mobile tooltip icon is "i" with foam background, (e) Mobile content padding is consistent, (f) Edit icon visible for current year only, (g) Legend/vacation/bridge colors all correct.
result: pass
note: "All 7 sub-checks (a-g) confirmed working."

## Summary

total: 6
passed: 6
issues: 0
pending: 0
skipped: 0

## Post-R4 Polish Fixes (User-Requested)

Applied after R4 passed, before final commit:

1. **Column gap increased**: `gap-[50px]` → `gap-[60px]` between sidebars and center
2. **Header margin reduced**: `mb-[50px]` → `mb-[35px]` on desktop header
3. **Rename "Лична Почивка" → "Отпуска"**: Updated in constants.ts, Legend.tsx, VacationSummary.tsx
4. **School holiday color changed**: Teal (#4A9B8E / #E5F3F0) → Warm purple (#8B6CA7 / #EDE0F5) to distinguish from green vacation color

Files modified: app/page.tsx, app/globals.css, lib/constants.ts, components/Legend.tsx, components/VacationSummary.tsx

## Gaps

(none)
